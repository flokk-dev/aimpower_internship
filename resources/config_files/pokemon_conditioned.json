{
  "num_epochs": 100,

  "pipeline": {
    "type": "lora diffusion"
  },

  "learner": {
    "type": "stable diffusion",
    "validation_prompts": ["Totoro", "Totoro", "Totoro", "Totoro"],

    "components": {
      "type": "lora diffusion",
      "pipeline_path": "runwayml/stable-diffusion-v1-5",
      "fp16": true,

      "loader": {
        "type": "prompt",
        "num_data": 800,

        "data_loader": {
          "batch_size": 2,
          "fp16": true
        },

        "dataset": {
          "lazy_loading": false,
          "img_size": 512,
          "fp16": true,

          "tokenizer": {
            "pipeline_path": "runwayml/stable-diffusion-v1-5"
          }
        }
      },

      "optimizer": {
        "type": "AdamW",
        "args": {
          "lr": 1e-4,
          "weight_decay": 1e-2
        }
      },

      "lr_scheduler": {
        "args": {
          "num_warmup_steps": 500
        }
      },

      "model": {
        "type": "conditioned unet",
        "load": true
      },

      "noise_scheduler": {
        "type": "ddpm",
        "load": true
      }
    }
  }
}